{% extends "layouts/base.html" %}
{% load static%}
{% block title %} UI Tables {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header card-header-primary">
        <h4 class="card-title ">Employee List</h4>
        <div class="col-md-4">
          <a href="{%url 'employee_create' %}" rel="noopener noreferrer" class="btn btn-lg btn-primary">Add employee</a>
        </div>
      </div>

      <div class="card-body">
        <div class="table-responsive">
          <table class="table">
            <thead class=" text-primary">
              <th>
                name
              </th>
              <th>
                team
              </th>
              <th>
                address
              </th>
              <th>
                mobile
              </th>
              <th>
                email
              </th>
              <th>
                action
              </th>

            </thead>
            <tbody>
              {% for employee in context1 %}
              <tr>
                <td>
                  {{employee.name}}
                </td>
                <td>
                  {{employee.team.designation}}
                </td>
                <td>
                  {{employee.address}}
                </td>
                <td>
                  {{employee.mobile}}
                </td>
                <td>
                  {{employee.email}}
                </td>
                <td>

                  <a href="{% url 'employee_update' employee.id %}" rel="noopener noreferrer"
                    class="btn btn-success">update</a>
                  <a rel="noopener noreferrer" class="btn btn-danger" data-toggle="modal" data-target="#exampleModal" onClick="getId('{{employee.id}}')">delete</a>
                </td>
                
                    </div>
                  </div>
                </div>
              </tr>
              {% endfor %}

            </tbody>
          </table>
          <div class="pagination justify-content-end">
            <span>
              {% if page_obj.has_previous %}
              <a class="btn btn-sm btn-primary" href="?page={{page_obj.previous_page_number}}">Previous</a>
              {% endif %}
              <span>{{ page_obj.number }}</span>

              {% if page_obj.has_next %}
              <a style="margin-right:45px" style="background-color: #825ee4" class="btn btn-sm btn-primary"
                href="?page={{page_obj.next_page_number}}">Next</a>
              {% endif %}

            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
  
</div>

</div>
</div>
</div>

<script>
  function getId(id) {
      var a =document.getElementById('delete_record');
       
      a.href = "/employee_delete/"+id;
  }
</script>	

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}
<!-- <script type="text/javascript">

$(document).on("click","#delete-user", function(e){
  e.preventDefault();
  debugger
  if (confirm("Are you sure you want to delete this"))
    url = "{% url 'inbox-filter-list' %}"   
      $.ajax({
        type: "POST",
        url: $(this).data('url'),
        dataType : "json",
        data :{'pk' : $(this).data('id'), 'csrfmiddlewaretoken': "{{ csrf_token }}" }, 
        success: function(data) {
            window.location.reload();
            
        }
    });
  });
</script> -->